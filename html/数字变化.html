<!DOCTYPE html>
<html lang="en" ng-app="number">
<head>
	<meta charset="UTF-8">
	<title>数字</title>
</head>
<body ng-controller="numbercontroller">
	<h1>{{numcount}}</h1>

	<script src="../js/angular.js"></script>
	<script>
       var numapp = angular.module('number',[])
       numapp.controller('numbercontroller',function($scope,$interval){
       	$scope.numcount = 10;

       	var timeout = $interval(function(){$scope.numcount--},1000,5);

this.cancel = function(){
  if($scope.numcount <= 0){
    $interval.cancel(timeout);
  }

}
        // $scope.$on('$destroy',function(){
        //   if($scope.numcount <= 0){
        //     $interval.cancel(timeout)
        //   }
        // })
       })
	</script>
</body>
</html>